<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>Bruine kroegen in Rotterdam – Stichting De Bruine Kroeg</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>
  <div style="max-width:900px; margin:0 auto;">

    <div style="text-align:center; margin-bottom:20px;">
      <img src="../logo2.JPG" alt="Logo Stichting De Bruine Kroeg" style="max-width:400px;">
    </div>

     <nav>
      <a href="../index.html">Home</a> |
      <a href="../bruine-kroeg.html">Bruine Kroeg</a> |
      <a href="../evenementen.html">Evenementen</a> |
      <a href="../lijst-bruine-kroegen.html">Lijst Bruine Kroegen</a> |
      <a href="../kaart-bruine-kroegen.html">Kaart</a> |
      <a href="../over-contact.html">Over & Contact</a>
    </nav>
    <hr>

    <h1>Bruine Kroegen in Rotterdam</h1>
<div class="terug-balk">
  <a href="../lijst-bruine-kroegen.html" class="terug-knop">
    ← Terug naar overzicht met steden
  </a>
</div>

  <!-- ROTTERDAM -->
    <div class="city-section">
     

       <div class="cafe" data-cafe="cafe-t-haventje">
      <h3 id="cafe-t-haventje">Café ’t Haventje</h3>
      <p>
        Een authentiek café-biljart op het Noordereiland, met uitzicht op het water en
        passerende schepen. Het café ademt de sfeer van de Rotterdamse haven en fungeert
        als no-nonsense buurtkroeg waar bewoners al generaties samenkomen voor een kopstoot
        en een goed gesprek.
      </p>
      <p class="adres"><strong>Adres:</strong> Prins Hendrikkade 129</p>
</div>
         <div class="cafe" data-cafe="cafe-de-pui">
      <h3 id="cafe-de-pui">Café De Pui</h3>
      <p>
        Een iconisch bruin café in de wijk Kralingen, met een warme houten inrichting
        en een gemêleerd publiek. Het karakteristieke hoekpand kent een lange
        horecageschiedenis. Ooit een klassieke pijpela, nu een proeflokaal dat verleden
        en heden moeiteloos met elkaar verbindt.
      </p>
      <p class="adres"><strong>Adres:</strong> Oostzeedijk Beneden 221A-B</p>
    </div>
</div>
    
 
<script>
/* === 1. functie die 1 café laadt === */
function loadCafe(cafe){

  const id = cafe.dataset.cafe;
  const extensions = ["jpg","jpeg","png","webp"];

  function tryNext(i){
    if(i >= extensions.length) return;

    const imgPath = "/fotos/" + id + "." + extensions[i];
    const creditPath = "/fotos/" + id + ".txt";

    const testImg = new Image();

    testImg.onload = function () {

      const img = document.createElement("img");
      img.src = imgPath;
      img.className = "cafe-foto";
      cafe.prepend(img);

      fetch(creditPath)
        .then(r => r.ok ? r.text() : null)
        .then(name => {
          if (name) {
            const credit = document.createElement("div");
            credit.className = "foto-credit";
            credit.innerText = "Foto: " + name.trim();
            img.after(credit);
          }
        });
    };

    testImg.onerror = function(){
      tryNext(i+1);
    };

    testImg.src = imgPath;
  }

  tryNext(0);
}


/* === 2. observer: laad pas als zichtbaar === */
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if(entry.isIntersecting){
      loadCafe(entry.target);
      observer.unobserve(entry.target);
    }
  });
});


/* === 3. koppel alle cafés aan observer === */
document.querySelectorAll(".cafe[data-cafe]").forEach(cafe => {
  observer.observe(cafe);
});
</script>

    
</body>
</html>
